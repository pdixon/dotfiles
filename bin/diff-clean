#!/usr/bin/env python2.5
from __future__ import with_statement
import pprint

def split_by_file(in_file):
    out=[]
    t=None
    for line in in_file:
        if (line.startswith("diff")):
            if (t is not None):
                out.append(t)
            t = []
        if t is not None:
            t.append(line)
    return out

def main(in_file, out_file):
    cleaned = [n for n in split_by_file(in_file) if not (n[1].startswith("Binary"))]
    for n in cleaned:
        for i in n:
            out_file.write(i)
    
if __name__ == '__main__':
    import sys
    main(sys.stdin, sys.stdout)
